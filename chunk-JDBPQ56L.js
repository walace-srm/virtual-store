import{a as He,c as Ye,e as Ke,f as Ze,g as at,i as ct,k as st,l as mt}from"./chunk-GH3EUI3M.js";import{a as tt}from"./chunk-32KPAHBW.js";import"./chunk-RGMJOE4E.js";import{b as we,c as q,d as Q,e as K}from"./chunk-3LIR5CQK.js";import{a as ze,c as ie,d as Ve,e as Y,f as $e,g as R,i as We,j as Ge,k as Ue,l as qe,m as Qe}from"./chunk-NITW6LWJ.js";import{f as U,h as Me,i as Pe}from"./chunk-HVWF3CA4.js";import{a as Xe,b as et}from"./chunk-4ETLFIKS.js";import{a as rt,b as it,c as nt,d as ot}from"./chunk-RLLTFST7.js";import"./chunk-TH7WN3PK.js";import{a as Z,c as Je,f as I}from"./chunk-CT7O4RTB.js";import"./chunk-Q5OM6AKQ.js";import"./chunk-MOIDJ56Q.js";import{$ as Fe,G as Se,N as Ie,P as H,R as S,T as ke,U as w,W as Oe,X as Ee,aa as Te,ca as Be,da as De,fa as Re,ha as Ne,ia as Le,la as Ae,ma as je}from"./chunk-GJKTN3KQ.js";import{$b as he,Bc as $,Db as b,Eb as s,Fb as N,Gb as fe,Ha as de,Hb as _e,Ja as pe,Nb as i,Ob as o,Pa as ue,Pb as p,Qb as T,Rb as B,Sb as L,Tb as D,Vb as x,Vc as M,Wb as u,Wc as P,Xc as be,Yc as W,Zb as A,Zc as G,a as oe,ac as xe,b as ae,bc as ve,da as ce,db as _,e as y,ea as se,ec as v,fb as c,fc as a,ga as me,gc as f,hc as j,ia as te,ja as g,kb as F,oc as Ce,pc as z,qb as h,qc as V,rb as ge,rc as C,sa as O,ta as E,ua as re,ub as d,va as le,xc as ye}from"./chunk-LUFARRJF.js";var k=(()=>{class r{constructor(e,t){this.firestore=e,this.storage=t}uploadImage(e,t){return y(this,null,function*(){let n=`products/${t}/${e.name}`,m=st(this.storage,n);return yield mt(m,e),yield ct(m)})}create(e){let t=We(),n=R(Y(t,"products"));return Ue(n,ae(oe({},e),{id:n.id}))}getAll(){let e=Y(this.firestore,"products");return ie(e,{idField:"id"})}update(e,t){return y(this,null,function*(){let n=R(this.firestore,`products/${e}`);yield qe(n,t)})}delete(e){return y(this,null,function*(){let t=R(this.firestore,`products/${e}`);yield $e(t)})}getProductsByCategory(e){let t=Y(this.firestore,"products"),n=Ge(t,Qe("category","==",e));return ie(n,{idField:"id"})}getProductById(e){let t=R(this.firestore,`products/${e}`);return Ve(t,{idField:"id"})}static{this.\u0275fac=function(t){return new(t||r)(te(ze),te(at))}}static{this.\u0275prov=ce({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function ht(r,l){if(r&1&&(i(0,"mat-list-option",23)(1,"div",24),p(2,"img",25),i(3,"span"),a(4),o()()()),r&2){let e=l.$implicit;s("value",e),c(2),s("src",e,_),c(2),f(e.split("/").pop())}}function xt(r,l){if(r&1&&p(0,"img",29),r&2){let e=l.$implicit;s("src",e.value,_)}}function vt(r,l){if(r&1&&(i(0,"div",26)(1,"h4"),a(2,"Imagens selecionadas:"),o(),i(3,"div",27),d(4,xt,1,1,"img",28),o()()),r&2){let e=u();c(4),s("ngForOf",e.images.controls)}}var dt=(()=>{class r{constructor(e,t,n,m){this.fb=e,this.snackBar=t,this.router=n,this.productService=m,this.categories=["Blusa","Bermuda","Cal\xE7a"],this.sizes=["P","M","G","GG","36","38","40","42"],this.colors=["Preto","Branco","Azul","Vermelho","Verde"],this.selectedImage="",this.allImages=[],this.selectedImages=[],this.form=this.fb.group({name:["",[w.required]],description:["",[w.required]],price:[0,[w.required,w.min(1)]],category:["",[w.required]],size:[""],color:[""],images:[],status:[],discount:[]}),this.generateImages()}generateImages(){let e=["blusas","bermudas","calcas"];for(let t of e)for(let n=1;n<=5;n++)this.allImages.push(`assets/images/${t}/${n}.jpg`)}onImageSelect(e){this.selectedImages.includes(e)||(this.selectedImages.push(e),this.form.patchValue({images:this.selectedImages}))}removeImage(e){this.selectedImages=this.selectedImages.filter(t=>t!==e),this.form.patchValue({images:this.selectedImages})}get images(){return this.form.get("images")}onImageToggle(e,t){if(t.checked)this.images.push(this.fb.control(e));else{let m=this.images.controls.findIndex(ft=>ft.value===e);m!==-1&&this.images.removeAt(m)}}onSubmit(){return y(this,null,function*(){if(this.form.invalid){this.snackBar.open("Preencha todos os campos obrigat\xF3rios.","Fechar",{duration:3e3});return}let e=this.form.value;try{yield this.productService.create(e),this.snackBar.open("Produto cadastrado com sucesso!","Fechar",{duration:3e3}),this.form.reset(),this.selectedImage=""}catch(t){console.error(t),this.snackBar.open("Erro ao cadastrar o produto.","Fechar",{duration:3e3})}})}onCancel(){this.router.navigate(["/products"])}static{this.\u0275fac=function(t){return new(t||r)(F(Re),F(tt),F(Me),F(k))}}static{this.\u0275cmp=h({type:r,selectors:[["app-product-form"]],decls:46,vars:4,consts:[[1,"form-page"],[1,"form-card"],[1,"form-title"],[1,"form-grid",3,"ngSubmit","formGroup"],["appearance","outline",1,"full"],["matInput","","formControlName","name"],["matInput","","rows","3","formControlName","description"],["appearance","outline",1,"half"],["matInput","","type","number","formControlName","price"],["matInput","","type","number","formControlName","discount"],["formControlName","category"],["value","blusas"],["value","bermudas"],["value","calcas"],["matInput","","formControlName","status"],[1,"full"],[1,"mat-subheading-2"],["formControlName","images"],["class","mat-list-option",3,"value",4,"ngFor","ngForOf"],["class","image-preview full",4,"ngIf"],[1,"button-group","full"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["mat-stroked-button","","color","warn","type","button",3,"click"],[1,"mat-list-option",3,"value"],[1,"image-option"],["alt","imagem",3,"src"],[1,"image-preview","full"],[1,"preview-list"],[3,"src",4,"ngFor","ngForOf"],[3,"src"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),a(3,"Cadastrar Produto"),o(),i(4,"form",3),x("ngSubmit",function(){return n.onSubmit()}),i(5,"mat-form-field",4)(6,"mat-label"),a(7,"Nome do Produto"),o(),p(8,"input",5),o(),i(9,"mat-form-field",4)(10,"mat-label"),a(11,"Descri\xE7\xE3o"),o(),p(12,"textarea",6),o(),i(13,"mat-form-field",7)(14,"mat-label"),a(15,"Pre\xE7o"),o(),p(16,"input",8),o(),i(17,"mat-form-field",7)(18,"mat-label"),a(19,"Desconto (%)"),o(),p(20,"input",9),o(),i(21,"mat-form-field",7)(22,"mat-label"),a(23,"Categoria"),o(),i(24,"mat-select",10)(25,"mat-option",11),a(26,"Blusas"),o(),i(27,"mat-option",12),a(28,"Bermudas"),o(),i(29,"mat-option",13),a(30,"Cal\xE7as"),o()()(),i(31,"mat-form-field",7)(32,"mat-label"),a(33,"Status"),o(),p(34,"input",14),o(),i(35,"div",15)(36,"p",16),a(37,"Selecione as imagens do produto:"),o(),i(38,"mat-selection-list",17),d(39,ht,5,3,"mat-list-option",18),o()(),d(40,vt,5,1,"div",19),i(41,"div",20)(42,"button",21),a(43,"Salvar"),o(),i(44,"button",22),x("click",function(){return n.onCancel()}),a(45,"Cancelar"),o()()()()()),t&2&&(c(4),s("formGroup",n.form),c(35),s("ngForOf",n.allImages),c(),s("ngIf",n.images.length>0),c(2),s("disabled",n.form.invalid))},dependencies:[P,M,Ne,Fe,ke,Te,Oe,Ee,Be,De,je,Ae,Le,et,Xe,ot,nt,rt,I,S,H,it,we,Ze,Ke,Ye],styles:[".form-page[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:32px 16px}.form-card[_ngcontent-%COMP%]{width:100%;max-width:700px;background-color:#fff;border-radius:16px;padding:32px;box-shadow:0 10px 30px #0000001a}.form-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;margin-bottom:24px;font-weight:600;color:#3f51b5}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.full[_ngcontent-%COMP%]{grid-column:span 2}.half[_ngcontent-%COMP%]{grid-column:span 1}.image-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.image-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:auto;border-radius:6px;object-fit:cover}.preview-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.preview-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;border-radius:4px;border:1px solid #ccc}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;margin-top:8px}mat-list-option[_ngcontent-%COMP%]{margin-bottom:6px}@media (max-width: 700px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.full[_ngcontent-%COMP%], .half[_ngcontent-%COMP%]{grid-column:span 1}.button-group[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return r})();var Ct=["determinateSpinner"];function yt(r,l){if(r&1&&(re(),i(0,"svg",11),p(1,"circle",12),o()),r&2){let e=u();b("viewBox",e._viewBox()),c(),N("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),b("r",e._circleRadius())}}var bt=new me("mat-progress-spinner-default-options",{providedIn:"root",factory:Mt});function Mt(){return{diameter:pt}}var pt=100,Pt=10,X=(()=>{class r{_elementRef=g(de);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=g(ue,{optional:!0}),t=g(bt);this._noopAnimations=e==="NoopAnimations"&&!!t&&!t._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",t&&(t.color&&(this.color=this._defaultColor=t.color),t.diameter&&(this.diameter=t.diameter),t.strokeWidth&&(this.strokeWidth=t.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=pt;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-Pt)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=h({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,n){if(t&1&&he(Ct,5),t&2){let m;xe(m=ve())&&(n._determinateCircle=m.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,n){t&2&&(b("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",n.mode==="determinate"?n.value:null)("mode",n.mode),_e("mat-"+n.color),N("width",n.diameter,"px")("height",n.diameter,"px")("--mdc-circular-progress-size",n.diameter+"px")("--mdc-circular-progress-active-indicator-width",n.diameter+"px"),fe("_mat-animation-noopable",n._noopAnimations)("mdc-circular-progress--indeterminate",n.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",$],diameter:[2,"diameter","diameter",$],strokeWidth:[2,"strokeWidth","strokeWidth",$]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,n){if(t&1&&(d(0,yt,2,8,"ng-template",null,0,C),i(2,"div",2,1),re(),i(4,"svg",3),p(5,"circle",4),o()(),le(),i(6,"div",5)(7,"div",6)(8,"div",7),L(9,8),o(),i(10,"div",9),L(11,8),o(),i(12,"div",10),L(13,8),o()()()),t&2){let m=v(1);c(4),b("viewBox",n._viewBox()),c(),N("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeDashOffset(),"px")("stroke-width",n._circleStrokeWidth(),"%"),b("r",n._circleRadius()),c(4),s("ngTemplateOutlet",m),c(2),s("ngTemplateOutlet",m),c(2),s("ngTemplateOutlet",m)}},dependencies:[be],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return r})();var ee=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=ge({type:r});static \u0275inj=se({imports:[Se]})}return r})();var kt=r=>["/products",r];function Ot(r,l){r&1&&(T(0),i(1,"div",3),p(2,"mat-spinner"),i(3,"p"),a(4,"Carregando produtos..."),o()(),B())}function Et(r,l){r&1&&(i(0,"div",18)(1,"span"),a(2,"Sale"),o()())}function Ft(r,l){if(r&1&&(i(0,"span",19),a(1),o()),r&2){let e=u().$implicit;c(),j("R$ ",e.discount,"")}}function Tt(r,l){if(r&1){let e=D();i(0,"mat-card",6)(1,"div",7)(2,"figure",8),d(3,Et,3,0,"div",9),p(4,"img",10),o()(),i(5,"mat-card-content",11)(6,"div",12)(7,"div")(8,"p",13),a(9),o(),i(10,"p",14),a(11),o()(),i(12,"div",15),d(13,Ft,2,1,"span",16),i(14,"span"),a(15),z(16,"currency"),o()(),i(17,"button",17),x("click",function(){let n=O(e).$implicit,m=u(3);return E(m.addProductToCart(n))}),i(18,"mat-icon"),a(19,"add_shopping_cart"),o()()()()()}if(r&2){let e=l.$implicit;s("routerLink",Ce(11,kt,e.id)),c(3),s("ngIf",e.status==="sale"),c(),A("alt",e.name),s("src",e.images==null?null:e.images[0],_),c(5),f(e.name),c(2),f(e.description),c(2),s("ngIf",e.discounted==="discounted"),c(2),f(V(16,8,e.price,"BRL"))}}function Bt(r,l){if(r&1&&(T(0),i(1,"div",4),d(2,Tt,20,13,"mat-card",5),o(),B()),r&2){let e=u(2);c(2),s("ngForOf",e.produtosFiltrados)("ngForTrackByProduct",e.trackProduct)}}function Dt(r,l){if(r&1&&d(0,Bt,3,2,"ng-container",2),r&2){let e=u(),t=v(4);s("ngIf",e.produtosFiltrados.length>0)("ngIfElse",t)}}function Rt(r,l){r&1&&(i(0,"div",21)(1,"mat-icon",22),a(2,"inventory_2"),o(),i(3,"p"),a(4,"Nenhum produto encontrado nesta categoria."),o()())}function Nt(r,l){if(r&1&&d(0,Rt,5,0,"div",20),r&2){let e=u();s("ngIf",!e.loading())}}var ne=(()=>{class r{constructor(){this.cartService=g(K),this.productService=g(k),this.searchService=g(He),this.route=g(U),this.changeDetector=g(ye),this.loading=pe(!1),this.produtosFiltrados=[]}ngOnInit(){this.listenSearch(),this.filterProductByCategory()}getAll(){this.loading.set(!0),this.productService.getAll().subscribe(e=>{console.log(e),this.products=e,this.produtosFiltrados=e,this.loading.set(!1)})}listenSearch(){this.searchService.searchTerm$.subscribe(e=>{let t=e.toLowerCase().trim();this.products&&(this.produtosFiltrados=this.products.filter(n=>n.name.toLowerCase().includes(t)))})}addProductToCart(e){this.cartService.addProduct(e)}filterProductByCategory(){this.route.paramMap.subscribe(e=>{let t=e.get("category");t?this.loadProductsByCategory(t):this.getAll()})}loadProductsByCategory(e){this.productService.getProductsByCategory(e).subscribe(t=>{this.products=t,this.produtosFiltrados=t,this.loading.set(!1),this.changeDetector.detectChanges()})}trackByProduct(e,t){return t.id}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=h({type:r,selectors:[["app-products-list"]],decls:5,vars:2,consts:[["content",""],["emptyState",""],[4,"ngIf","ngIfElse"],[1,"loading-container"],[1,"parent"],[3,"routerLink",4,"ngFor","ngForOf","ngForTrackByProduct"],[3,"routerLink"],[1,"media-grid"],[1,"product-figure"],["class","product-badge",4,"ngIf"],["height","245px",3,"src","alt"],[1,"pa-1"],[1,"product-details"],[1,"ma-0"],[1,"ma-0","pa-0","text-md"],[1,"mat-text-primary","text-xl"],["class","strikethrough mat-text-muted text-sm",4,"ngIf"],["mat-icon-button","","color","accent",3,"click"],[1,"product-badge"],[1,"strikethrough","mat-text-muted","text-sm"],["class","empty-container",4,"ngIf"],[1,"empty-container"],[1,"empty-icon"]],template:function(t,n){if(t&1&&d(0,Ot,5,0,"ng-container",2)(1,Dt,1,2,"ng-template",null,0,C)(3,Nt,1,1,"ng-template",null,1,C),t&2){let m=v(2);s("ngIf",n.loading())("ngIfElse",m)}},dependencies:[G,M,P,W,Pe,I,Z,Je,S,Ie,Q,q,ee,X],styles:[".parent[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around}mat-card[_ngcontent-%COMP%]{width:300px;margin:15px;cursor:pointer}.product-details[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between;align-items:center}.media-grid[_ngcontent-%COMP%]{text-align:center;overflow:hidden}.product-figure[_ngcontent-%COMP%]{background-color:#fff;height:245px}.product-badge[_ngcontent-%COMP%]{color:#fff;text-align:center;position:absolute;font-weight:700;border-top:30px solid #7CB342;border-bottom:30px solid transparent;border-right:30px solid transparent;border-left:30px solid #7CB342;top:0;left:0;z-index:100}.product-badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;transform:rotate(-45deg);top:-18px;left:-25px;white-space:nowrap}.loading-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fffc;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:999;gap:16px;text-align:center;color:#3f51b5;font-weight:500}.empty-container[_ngcontent-%COMP%]{display:flex;height:70vh;flex-direction:column;align-items:center;justify-content:center;padding:4rem 1rem;text-align:center;color:#888}.empty-container[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:1rem;color:#ccc}.empty-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}"]})}}return r})();function Lt(r,l){if(r&1&&(T(0),i(1,"span",14),a(2),o(),B()),r&2){let e=u(2);c(2),j("R$ ",e.product.discount,"")}}function At(r,l){if(r&1){let e=D();i(0,"div",15)(1,"img",16),x("click",function(){let n=O(e).$implicit,m=u(2);return E(m.selectImage(n))}),o()()}if(r&2){let e=l.$implicit;c(),s("src",e,_)}}function jt(r,l){if(r&1){let e=D();i(0,"div",2)(1,"mat-card",3)(2,"div",4),p(3,"img",5),o(),i(4,"div",6)(5,"h2"),a(6),o(),i(7,"p",7),a(8),o(),i(9,"div",8),d(10,Lt,3,1,"ng-container",9),i(11,"span",10),a(12),z(13,"currency"),o()(),i(14,"button",11),x("click",function(){O(e);let n=u();return E(n.addToCart())}),i(15,"mat-icon"),a(16,"add_shopping_cart"),o(),a(17," Adicionar ao carrinho "),o()(),i(18,"div",12),d(19,At,2,1,"div",13),o()()()}if(r&2){let e=u();c(3),A("alt",e.product.name),s("src",e.selectedImage,_),c(3),f(e.product.name),c(2),f(e.product.description),c(2),s("ngIf",e.product.discounted==="discounted"),c(2),f(V(13,7,e.product.price,"BRL")),c(7),s("ngForOf",e.product.images)}}function zt(r,l){r&1&&(i(0,"div",17),p(1,"mat-spinner"),i(2,"p"),a(3,"Carregando produto..."),o()())}var gt=(()=>{class r{constructor(){this.route=g(U),this.productService=g(k),this.cartService=g(K),this.product=null,this.isLoading=!0,this.selectedImage=""}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.productService.getProductById(e).subscribe(t=>{this.product=t,this.isLoading=!1,this.product?.images?.length&&(this.selectedImage=this.product.images[0])})}selectImage(e){this.selectedImage=e}addToCart(){this.product&&this.cartService.addProduct(this.product)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=h({type:r,selectors:[["app-products-detail"]],decls:3,vars:2,consts:[["loading",""],["class","detail-container",4,"ngIf","ngIfElse"],[1,"detail-container"],[1,"detail-card"],[1,"image-section"],[1,"main-image",3,"src","alt"],[1,"info-section"],[1,"description"],[1,"price-section"],[4,"ngIf"],[1,"current-price"],["mat-raised-button","","color","primary",3,"click"],[1,"image-gallery"],["class","thumbnail",4,"ngFor","ngForOf"],[1,"old-price"],[1,"thumbnail"],["alt","imagem do produto",3,"click","src"],[1,"loading-container"]],template:function(t,n){if(t&1&&d(0,jt,20,10,"div",1)(1,zt,4,0,"ng-template",null,0,C),t&2){let m=v(2);s("ngIf",!n.isLoading&&n.product)("ngIfElse",m)}},dependencies:[G,M,P,W,I,Z,ee,X,Q,q,S,H],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px}.detail-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:800px}.image-section[_ngcontent-%COMP%]{text-align:center}.main-image[_ngcontent-%COMP%]{max-width:100%;width:400px;height:auto;border-radius:8px;box-shadow:0 2px 8px #0000001a;object-fit:cover}.image-gallery[_ngcontent-%COMP%]{display:flex;justify-content:start;margin-top:15px;overflow-x:auto}.thumbnail[_ngcontent-%COMP%]{margin-right:10px;cursor:pointer}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:cover;border-radius:4px;border:2px solid transparent;transition:transform .3s,border-color .3s}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-color:#1976d2}button.mat-raised-button[_ngcontent-%COMP%]:hover{background-color:#1976d2;transform:scale(1.05)}.detail-card[_ngcontent-%COMP%]{padding:20px}.info-section[_ngcontent-%COMP%]{padding-top:10px}h2[_ngcontent-%COMP%]{margin-bottom:15px;font-size:24px;font-weight:600}p.description[_ngcontent-%COMP%]{margin-bottom:15px;font-size:16px;line-height:1.6}.price-section[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.current-price[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#4caf50}.old-price[_ngcontent-%COMP%]{font-size:16px;color:#999;text-decoration:line-through}.loading-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fffc;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:999;gap:16px;text-align:center;color:#3f51b5;font-weight:500}"]})}}return r})();var qr=[{path:"",component:ne},{path:"new",component:dt},{path:":id",component:gt},{path:"category/:category",component:ne}];export{qr as PRODUCT_ROUTES};
