import{b as C}from"./chunk-XDXMMFVV.js";import{a as V}from"./chunk-U2TP7XUP.js";import"./chunk-SGYCFQGT.js";import{a as G,b as q}from"./chunk-I5AFZ5CK.js";import"./chunk-6SWKQECH.js";import{a as y,b as s,d as E,e as F,h as P,j as O,k as I,m as N,o as B,p as j,s as D,t as A}from"./chunk-JO5PRQ2J.js";import{Ba as u,Fa as m,Ic as M,Kc as x,La as f,Va as d,Wb as h,bb as o,cb as t,d as p,db as c,fd as b,gb as g,gd as v,pd as S,qd as k,sb as n,vd as w,yd as _}from"./chunk-KJXX4TUL.js";var nt=(()=>{class l{constructor(a,e,r,i,L){this.fb=a,this.router=e,this.auth=r,this.firestore=i,this.snackBar=L,this.form=this.fb.group({nome:["",[s.required]],email:["",[s.required,s.email]],password:["",[s.required]]})}signup(){return p(this,null,function*(){if(this.form.invalid)return;let{nome:a,email:e,password:r}=this.form.value;try{let i=yield b(this.auth,e,r);i.user&&(yield S(i.user,{displayName:a}),yield _(w(this.firestore,"users",i.user.uid),{uid:i.user.uid,nome:a,email:e,isAdmin:!1})),this.snackBar.open("Usu\xE1rio cadastrado com sucesso!","Fechar",{duration:3e3,panelClass:"snack-success"}),this.router.navigate(["/products"])}catch(i){this.snackBar.open(`Erro: ${i.message}`,"Fechar",{duration:4e3,panelClass:"snack-error"})}})}static{this.\u0275fac=function(e){return new(e||l)(m(N),m(C),m(v),m(k),m(V))}}static{this.\u0275cmp=f({type:l,selectors:[["app-signup"]],decls:22,vars:2,consts:[[1,"auth-container"],[1,"form-content",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","nome"],["matInput","","formControlName","email"],["matInput","","type","password","formControlName","password"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"login-link"],["routerLink","/login"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"h2"),n(2,"Crie sua conta"),t(),o(3,"form",1),g("ngSubmit",function(){return r.signup()}),o(4,"mat-form-field",2)(5,"mat-label"),n(6,"Nome"),t(),c(7,"input",3),t(),o(8,"mat-form-field",2)(9,"mat-label"),n(10,"Email"),t(),c(11,"input",4),t(),o(12,"mat-form-field",2)(13,"mat-label"),n(14,"Senha"),t(),c(15,"input",5),t(),o(16,"button",6),n(17," Cadastrar "),t()(),o(18,"p",7),n(19," J\xE1 tem uma conta? "),o(20,"a",8),n(21,"Fa\xE7a login"),t()()()),e&2&&(u(3),d("formGroup",r.form),u(13),d("disabled",r.form.invalid))},dependencies:[h,B,P,y,E,F,O,I,A,D,j,q,G,x,M],styles:[".auth-container[_ngcontent-%COMP%]{max-width:400px;margin:40px auto;padding:32px;border-radius:12px;box-shadow:0 4px 20px #0000001a;background-color:#fff;display:flex;flex-direction:column;align-items:center}h2[_ngcontent-%COMP%]{margin-bottom:24px;color:#3f51b5}.form-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.snack-success[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.snack-error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.login-link[_ngcontent-%COMP%]{margin-top:16px;font-size:14px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none;font-weight:500}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}return l})();export{nt as SignupComponent};
