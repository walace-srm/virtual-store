import{a as Zt,c as Jt,e as Xt,f as te,g as se,i as me,k as le,l as de}from"./chunk-GH3EUI3M.js";import{a as T}from"./chunk-32KPAHBW.js";import"./chunk-RGMJOE4E.js";import{b as Et,c as Q,d as H,e as X}from"./chunk-3LIR5CQK.js";import{a as Wt,c as at,d as Gt,e as J,f as Ut,g as N,i as qt,j as Yt,k as Qt,l as Ht,m as Kt}from"./chunk-NITW6LWJ.js";import{f as Y,h as k,i as It}from"./chunk-HVWF3CA4.js";import{a as re,b as ie}from"./chunk-4ETLFIKS.js";import{a as ne,b as oe,c as ae,d as ce}from"./chunk-RLLTFST7.js";import"./chunk-TH7WN3PK.js";import{a as tt,c as ee,f as E}from"./chunk-CT7O4RTB.js";import"./chunk-Q5OM6AKQ.js";import"./chunk-MOIDJ56Q.js";import{$ as Dt,G as Ot,N as K,P as Z,R as I,T as Tt,U as O,W as Ft,X as Bt,aa as Rt,ca as Lt,da as Nt,fa as At,ha as zt,ia as jt,la as Vt,ma as $t}from"./chunk-GJKTN3KQ.js";import{$b as bt,Bc as G,Db as P,Eb as s,Fb as A,Gb as vt,Ha as ft,Hb as Ct,Ja as _t,Nb as n,Ob as o,Pa as ht,Pb as u,Qb as D,Rb as R,Sb as z,Tb as L,Tc as wt,Vb as _,Vc as S,Wb as g,Wc as w,Xc as kt,Yc as U,Zb as j,Zc as q,a as mt,ac as yt,b as lt,bc as Mt,da as dt,db as h,e as b,ea as pt,ec as v,fb as c,fc as a,ga as ut,gc as f,hc as V,ia as nt,ja as d,kb as B,oc as Pt,pc as $,qb as x,qc as W,rb as xt,rc as C,sa as y,ta as M,ua as ot,ub as p,va as gt,xc as St}from"./chunk-LUFARRJF.js";var F=(()=>{class r{constructor(t,e){this.firestore=t,this.storage=e}uploadImage(t,e){return b(this,null,function*(){let i=`products/${e}/${t.name}`,m=le(this.storage,i);return yield de(m,t),yield me(m)})}create(t){let e=qt(),i=N(J(e,"products"));return Qt(i,lt(mt({},t),{id:i.id}))}getAll(){let t=J(this.firestore,"products");return at(t,{idField:"id"})}update(t,e){return b(this,null,function*(){let i=N(this.firestore,`products/${t}`);yield Ht(i,e)})}delete(t){return b(this,null,function*(){let e=N(this.firestore,`products/${t}`);yield Ut(e)})}getProductsByCategory(t){let e=J(this.firestore,"products"),i=Yt(e,Kt("category","==",t));return at(i,{idField:"id"})}getProductById(t){let e=N(this.firestore,`products/${t}`);return Gt(e,{idField:"id"})}static{this.\u0275fac=function(e){return new(e||r)(nt(Wt),nt(se))}}static{this.\u0275prov=dt({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function xe(r,l){if(r&1&&(n(0,"mat-list-option",23)(1,"div",24),u(2,"img",25),n(3,"span"),a(4),o()()()),r&2){let t=l.$implicit;s("value",t),c(2),s("src",t,h),c(2),f(t.split("/").pop())}}function ve(r,l){if(r&1&&u(0,"img",29),r&2){let t=l.$implicit;s("src",t.value,h)}}function Ce(r,l){if(r&1&&(n(0,"div",26)(1,"h4"),a(2,"Imagens selecionadas:"),o(),n(3,"div",27),p(4,ve,1,1,"img",28),o()()),r&2){let t=g();c(4),s("ngForOf",t.images.controls)}}var ue=(()=>{class r{constructor(t,e,i,m){this.fb=t,this.snackBar=e,this.router=i,this.productService=m,this.categories=["Blusa","Bermuda","Cal\xE7a"],this.sizes=["P","M","G","GG","36","38","40","42"],this.colors=["Preto","Branco","Azul","Vermelho","Verde"],this.selectedImage="",this.allImages=[],this.selectedImages=[],this.form=this.fb.group({name:["",[O.required]],description:["",[O.required]],price:[0,[O.required,O.min(1)]],category:["",[O.required]],size:[""],color:[""],images:[],status:[],discount:[]}),this.generateImages()}generateImages(){let t=["blusas","bermudas","calcas"];for(let e of t)for(let i=1;i<=5;i++)this.allImages.push(`assets/images/${e}/${i}.jpg`)}onImageSelect(t){this.selectedImages.includes(t)||(this.selectedImages.push(t),this.form.patchValue({images:this.selectedImages}))}removeImage(t){this.selectedImages=this.selectedImages.filter(e=>e!==t),this.form.patchValue({images:this.selectedImages})}get images(){return this.form.get("images")}onImageToggle(t,e){if(e.checked)this.images.push(this.fb.control(t));else{let m=this.images.controls.findIndex(st=>st.value===t);m!==-1&&this.images.removeAt(m)}}onSubmit(){return b(this,null,function*(){if(this.form.invalid){this.snackBar.open("Preencha todos os campos obrigat\xF3rios.","Fechar",{duration:3e3});return}let t=this.form.value;try{yield this.productService.create(t),this.snackBar.open("Produto cadastrado com sucesso!","Fechar",{duration:3e3}),this.form.reset(),this.selectedImage=""}catch(e){console.error(e),this.snackBar.open("Erro ao cadastrar o produto.","Fechar",{duration:3e3})}})}onCancel(){this.router.navigate(["/products"])}static{this.\u0275fac=function(e){return new(e||r)(B(At),B(T),B(k),B(F))}}static{this.\u0275cmp=x({type:r,selectors:[["app-product-form"]],decls:46,vars:4,consts:[[1,"form-page"],[1,"form-card"],[1,"form-title"],[1,"form-grid",3,"ngSubmit","formGroup"],["appearance","outline",1,"full"],["matInput","","formControlName","name"],["matInput","","rows","3","formControlName","description"],["appearance","outline",1,"half"],["matInput","","type","number","formControlName","price"],["matInput","","type","number","formControlName","discount"],["formControlName","category"],["value","blusas"],["value","bermudas"],["value","calcas"],["matInput","","formControlName","status"],[1,"full"],[1,"mat-subheading-2"],["formControlName","images"],["class","mat-list-option",3,"value",4,"ngFor","ngForOf"],["class","image-preview full",4,"ngIf"],[1,"button-group","full"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["mat-stroked-button","","color","warn","type","button",3,"click"],[1,"mat-list-option",3,"value"],[1,"image-option"],["alt","imagem",3,"src"],[1,"image-preview","full"],[1,"preview-list"],[3,"src",4,"ngFor","ngForOf"],[3,"src"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),a(3,"Cadastrar Produto"),o(),n(4,"form",3),_("ngSubmit",function(){return i.onSubmit()}),n(5,"mat-form-field",4)(6,"mat-label"),a(7,"Nome do Produto"),o(),u(8,"input",5),o(),n(9,"mat-form-field",4)(10,"mat-label"),a(11,"Descri\xE7\xE3o"),o(),u(12,"textarea",6),o(),n(13,"mat-form-field",7)(14,"mat-label"),a(15,"Pre\xE7o"),o(),u(16,"input",8),o(),n(17,"mat-form-field",7)(18,"mat-label"),a(19,"Desconto (%)"),o(),u(20,"input",9),o(),n(21,"mat-form-field",7)(22,"mat-label"),a(23,"Categoria"),o(),n(24,"mat-select",10)(25,"mat-option",11),a(26,"Blusas"),o(),n(27,"mat-option",12),a(28,"Bermudas"),o(),n(29,"mat-option",13),a(30,"Cal\xE7as"),o()()(),n(31,"mat-form-field",7)(32,"mat-label"),a(33,"Status"),o(),u(34,"input",14),o(),n(35,"div",15)(36,"p",16),a(37,"Selecione as imagens do produto:"),o(),n(38,"mat-selection-list",17),p(39,xe,5,3,"mat-list-option",18),o()(),p(40,Ce,5,1,"div",19),n(41,"div",20)(42,"button",21),a(43,"Salvar"),o(),n(44,"button",22),_("click",function(){return i.onCancel()}),a(45,"Cancelar"),o()()()()()),e&2&&(c(4),s("formGroup",i.form),c(35),s("ngForOf",i.allImages),c(),s("ngIf",i.images.length>0),c(2),s("disabled",i.form.invalid))},dependencies:[w,S,zt,Dt,Tt,Rt,Ft,Bt,Lt,Nt,$t,Vt,jt,ie,re,ce,ae,ne,E,I,Z,oe,Et,te,Xt,Jt],styles:[".form-page[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:32px 16px}.form-card[_ngcontent-%COMP%]{width:100%;max-width:700px;background-color:#fff;border-radius:16px;padding:32px;box-shadow:0 10px 30px #0000001a}.form-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;margin-bottom:24px;font-weight:600;color:#3f51b5}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.full[_ngcontent-%COMP%]{grid-column:span 2}.half[_ngcontent-%COMP%]{grid-column:span 1}.image-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.image-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:auto;border-radius:6px;object-fit:cover}.preview-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.preview-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;border-radius:4px;border:1px solid #ccc}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;margin-top:8px}mat-list-option[_ngcontent-%COMP%]{margin-bottom:6px}@media (max-width: 700px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.full[_ngcontent-%COMP%], .half[_ngcontent-%COMP%]{grid-column:span 1}.button-group[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return r})();var be=["determinateSpinner"];function ye(r,l){if(r&1&&(ot(),n(0,"svg",11),u(1,"circle",12),o()),r&2){let t=g();P("viewBox",t._viewBox()),c(),A("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),P("r",t._circleRadius())}}var Me=new ut("mat-progress-spinner-default-options",{providedIn:"root",factory:Pe});function Pe(){return{diameter:ge}}var ge=100,Se=10,rt=(()=>{class r{_elementRef=d(ft);_noopAnimations;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";_determinateCircle;constructor(){let t=d(ht,{optional:!0}),e=d(Me);this._noopAnimations=t==="NoopAnimations"&&!!e&&!e._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}_value=0;get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}_diameter=ge;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_strokeWidth;_circleRadius(){return(this.diameter-Se)/2}_viewBox(){let t=this._circleRadius()*2+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=x({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(e,i){if(e&1&&bt(be,5),e&2){let m;yt(m=Mt())&&(i._determinateCircle=m.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(e,i){e&2&&(P("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),Ct("mat-"+i.color),A("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),vt("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",G],diameter:[2,"diameter","diameter",G],strokeWidth:[2,"strokeWidth","strokeWidth",G]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(e,i){if(e&1&&(p(0,ye,2,8,"ng-template",null,0,C),n(2,"div",2,1),ot(),n(4,"svg",3),u(5,"circle",4),o()(),gt(),n(6,"div",5)(7,"div",6)(8,"div",7),z(9,8),o(),n(10,"div",9),z(11,8),o(),n(12,"div",10),z(13,8),o()()()),e&2){let m=v(1);c(4),P("viewBox",i._viewBox()),c(),A("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),P("r",i._circleRadius()),c(4),s("ngTemplateOutlet",m),c(2),s("ngTemplateOutlet",m),c(2),s("ngTemplateOutlet",m)}},dependencies:[kt],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return r})();var it=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=xt({type:r});static \u0275inj=pt({imports:[Ot]})}return r})();var Oe=r=>["/products",r];function Ee(r,l){r&1&&(D(0),n(1,"div",3),u(2,"mat-spinner"),n(3,"p"),a(4,"Carregando produtos..."),o()(),R())}function Te(r,l){r&1&&(n(0,"div",19)(1,"span"),a(2,"Sale"),o()())}function Fe(r,l){if(r&1&&(n(0,"span",20),a(1),o()),r&2){let t=g().$implicit;c(),V("R$ ",t.discount,"")}}function Be(r,l){if(r&1){let t=L();n(0,"mat-card",6)(1,"div",7)(2,"figure",8),p(3,Te,3,0,"div",9),u(4,"img",10),o()(),n(5,"mat-card-content",11)(6,"div",12)(7,"div")(8,"p",13),a(9),o(),n(10,"p",14),a(11),o()(),n(12,"div",15),p(13,Fe,2,1,"span",16),n(14,"span"),a(15),$(16,"currency"),o()(),n(17,"div",17)(18,"button",18),_("click",function(i){let m=y(t).$implicit;return g(3).addProductToCart(m),M(i.stopPropagation())}),n(19,"mat-icon"),a(20,"add_shopping_cart"),o()()()()()()}if(r&2){let t=l.$implicit;s("routerLink",Pt(11,Oe,t.id)),c(3),s("ngIf",t.status==="sale"),c(),j("alt",t.name),s("src",t.images==null?null:t.images[0],h),c(5),f(t.name),c(2),f(t.description),c(2),s("ngIf",t.discounted==="discounted"),c(2),f(W(16,8,t.price,"BRL"))}}function De(r,l){if(r&1&&(D(0),n(1,"div",4),p(2,Be,21,13,"mat-card",5),o(),R()),r&2){let t=g(2);c(2),s("ngForOf",t.produtosFiltrados)("ngForTrackByProduct",t.trackProduct)}}function Re(r,l){if(r&1&&p(0,De,3,2,"ng-container",2),r&2){let t=g(),e=v(4);s("ngIf",t.produtosFiltrados.length>0)("ngIfElse",e)}}function Le(r,l){r&1&&(n(0,"div",22)(1,"mat-icon",23),a(2,"inventory_2"),o(),n(3,"p"),a(4,"Nenhum produto encontrado nesta categoria."),o()())}function Ne(r,l){if(r&1&&p(0,Le,5,0,"div",21),r&2){let t=g();s("ngIf",!t.loading())}}var ct=(()=>{class r{constructor(){this.cartService=d(X),this.productService=d(F),this.searchService=d(Zt),this.route=d(Y),this.router=d(k),this.changeDetector=d(St),this.snackBar=d(T),this.loading=_t(!1),this.produtosFiltrados=[]}ngOnInit(){this.listenSearch(),this.filterProductByCategory()}getAll(){this.loading.set(!0),this.productService.getAll().subscribe(t=>{this.products=t,this.produtosFiltrados=t,this.loading.set(!1)})}listenSearch(){this.searchService.searchTerm$.subscribe(t=>{let e=t.toLowerCase().trim();this.products&&(this.produtosFiltrados=this.products.filter(i=>i.name.toLowerCase().includes(e)))})}addProductToCart(t){this.cartService.addProduct(t),this.snackBar.open(`${t.name} adicionado ao carrinho!`,"Ir para o carrinho",{duration:1e4,verticalPosition:"bottom",horizontalPosition:"center"}).onAction().subscribe(()=>{this.router.navigate(["/cart"])})}filterProductByCategory(){this.route.paramMap.subscribe(t=>{let e=t.get("category");e?this.loadProductsByCategory(e):this.getAll()})}loadProductsByCategory(t){this.productService.getProductsByCategory(t).subscribe(e=>{this.products=e,this.produtosFiltrados=e,this.loading.set(!1),this.changeDetector.detectChanges()})}trackByProduct(t,e){return e.id}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=x({type:r,selectors:[["app-products-list"]],decls:5,vars:2,consts:[["content",""],["emptyState",""],[4,"ngIf","ngIfElse"],[1,"loading-container"],[1,"parent"],[3,"routerLink",4,"ngFor","ngForOf","ngForTrackByProduct"],[3,"routerLink"],[1,"media-grid"],[1,"product-figure"],["class","product-badge",4,"ngIf"],["height","245px",3,"src","alt"],[1,"pa-1"],[1,"product-details"],[1,"ma-0"],[1,"ma-0","pa-0","text-md"],[1,"mat-text-primary","text-xl"],["class","strikethrough mat-text-muted text-sm",4,"ngIf"],[1,"add-to-cart-btn"],["mat-icon-button","","color","accent","matTooltip","Adicionar ao carrinho",3,"click"],[1,"product-badge"],[1,"strikethrough","mat-text-muted","text-sm"],["class","empty-container",4,"ngIf"],[1,"empty-container"],[1,"empty-icon"]],template:function(e,i){if(e&1&&p(0,Ee,5,0,"ng-container",2)(1,Re,1,2,"ng-template",null,0,C)(3,Ne,1,1,"ng-template",null,1,C),e&2){let m=v(2);s("ngIf",i.loading())("ngIfElse",m)}},dependencies:[q,S,w,U,It,E,tt,ee,I,K,H,Q,it,rt],styles:[".parent[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-around}mat-card[_ngcontent-%COMP%]{width:300px;margin:15px;cursor:pointer}.product-details[_ngcontent-%COMP%]{display:flex;flex-flow:row;justify-content:space-between;align-items:center}.media-grid[_ngcontent-%COMP%]{text-align:center;overflow:hidden}.product-figure[_ngcontent-%COMP%]{background-color:#fff;height:245px}.product-badge[_ngcontent-%COMP%]{color:#fff;text-align:center;position:absolute;font-weight:700;border-top:30px solid #7CB342;border-bottom:30px solid transparent;border-right:30px solid transparent;border-left:30px solid #7CB342;top:0;left:0;z-index:100}.product-badge[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;transform:rotate(-45deg);top:-18px;left:-25px;white-space:nowrap}.loading-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fffc;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:999;gap:16px;text-align:center;color:#3f51b5;font-weight:500}.empty-container[_ngcontent-%COMP%]{display:flex;height:70vh;flex-direction:column;align-items:center;justify-content:center;padding:4rem 1rem;text-align:center;color:#888}.empty-container[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:1rem;color:#ccc}.empty-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}mat-card[_ngcontent-%COMP%]{position:relative;transition:transform .2s ease-in-out}mat-card[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.add-to-cart-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;opacity:0;transform:translateY(-10px);transition:opacity .3s ease,transform .3s ease;z-index:10}mat-card[_ngcontent-%COMP%]:hover   .add-to-cart-btn[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}@media (hover: none) and (pointer: coarse){.add-to-cart-btn[_ngcontent-%COMP%]{opacity:1!important;transform:translateY(0)!important;position:absolute;top:8px;right:8px}}"]})}}return r})();function Ae(r,l){if(r&1&&(D(0),n(1,"span",15),a(2),o(),R()),r&2){let t=g(2);c(2),V("R$ ",t.product.discount,"")}}function ze(r,l){if(r&1){let t=L();n(0,"div",16)(1,"img",17),_("click",function(){let i=y(t).$implicit,m=g(2);return M(m.selectImage(i))}),o()()}if(r&2){let t=l.$implicit;c(),s("src",t,h)}}function je(r,l){if(r&1){let t=L();n(0,"div",2)(1,"mat-card",3)(2,"button",4),_("click",function(){y(t);let i=g();return M(i.goBack())}),n(3,"mat-icon"),a(4,"arrow_back"),o()(),n(5,"div",5),u(6,"img",6),o(),n(7,"div",7)(8,"h2"),a(9),o(),n(10,"p",8),a(11),o(),n(12,"div",9),p(13,Ae,3,1,"ng-container",10),n(14,"span",11),a(15),$(16,"currency"),o()(),n(17,"button",12),_("click",function(){y(t);let i=g();return M(i.addToCart(i.product))}),n(18,"mat-icon"),a(19,"add_shopping_cart"),o(),a(20," Adicionar ao carrinho "),o()(),n(21,"div",13),p(22,ze,2,1,"div",14),o()()()}if(r&2){let t=g();c(6),j("alt",t.product.name),s("src",t.selectedImage,h),c(3),f(t.product.name),c(2),f(t.product.description),c(2),s("ngIf",t.product.discounted==="discounted"),c(2),f(W(16,8,t.product.price,"BRL")),c(7),s("ngForOf",t.product.images)("ngForTrackBy",t.trackByIndex)}}function Ve(r,l){r&1&&(n(0,"div",18),u(1,"mat-spinner"),n(2,"p"),a(3,"Carregando produto..."),o()())}var _e=(()=>{class r{constructor(){this.route=d(Y),this.productService=d(F),this.cartService=d(X),this.snackBar=d(T),this.location=d(wt),this.router=d(k),this.product=null,this.isLoading=!0,this.selectedImage=""}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.productService.getProductById(t).subscribe(e=>{this.product=e,this.isLoading=!1,this.product?.images?.length&&(this.selectedImage=this.product.images[0])})}selectImage(t){this.selectedImage=t}addToCart(t){this.cartService.addProduct(t),this.snackBar.open(`${t.name} adicionado ao carrinho!`,"Ir para o carrinho",{duration:1e4,verticalPosition:"bottom",horizontalPosition:"center"}).onAction().subscribe(()=>{this.router.navigate(["/cart"])})}goBack(){this.location.back()}trackByIndex(t,e){return t}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=x({type:r,selectors:[["app-products-detail"]],decls:3,vars:2,consts:[["loading",""],["class","detail-container",4,"ngIf","ngIfElse"],[1,"detail-container"],[1,"detail-card"],["mat-icon-button","",3,"click"],[1,"image-section"],[1,"main-image",3,"src","alt"],[1,"info-section"],[1,"description"],[1,"price-section"],[4,"ngIf"],[1,"current-price"],["mat-raised-button","","color","primary",3,"click"],[1,"image-gallery"],["class","thumbnail",4,"ngFor","ngForOf","ngForTrackBy"],[1,"old-price"],[1,"thumbnail"],["alt","imagem do produto",3,"click","src"],[1,"loading-container"]],template:function(e,i){if(e&1&&p(0,je,23,11,"div",1)(1,Ve,4,0,"ng-template",null,0,C),e&2){let m=v(2);s("ngIf",!i.isLoading&&i.product)("ngIfElse",m)}},dependencies:[q,S,w,U,E,tt,it,rt,H,Q,I,Z,K],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px}.detail-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:800px}.image-section[_ngcontent-%COMP%]{text-align:center}.main-image[_ngcontent-%COMP%]{max-width:100%;width:400px;height:auto;border-radius:8px;box-shadow:0 2px 8px #0000001a;object-fit:cover}.image-gallery[_ngcontent-%COMP%]{display:flex;justify-content:start;margin-top:15px;overflow-x:auto}.thumbnail[_ngcontent-%COMP%]{margin-right:10px;cursor:pointer}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;object-fit:cover;border-radius:4px;border:2px solid transparent;transition:transform .3s,border-color .3s}.thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-color:#1976d2}button.mat-raised-button[_ngcontent-%COMP%]:hover{background-color:#1976d2;transform:scale(1.05)}.detail-card[_ngcontent-%COMP%]{padding:20px}.info-section[_ngcontent-%COMP%]{padding-top:10px}h2[_ngcontent-%COMP%]{margin-bottom:15px;font-size:24px;font-weight:600}p.description[_ngcontent-%COMP%]{margin-bottom:15px;font-size:16px;line-height:1.6}.price-section[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.current-price[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#4caf50}.old-price[_ngcontent-%COMP%]{font-size:16px;color:#999;text-decoration:line-through}.loading-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fffc;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:999;gap:16px;text-align:center;color:#3f51b5;font-weight:500}"]})}}return r})();var Hr=[{path:"",component:ct},{path:"new",component:ue},{path:":id",component:_e},{path:"category/:category",component:ct}];export{Hr as PRODUCT_ROUTES};
