import{b as n}from"./chunk-XDXMMFVV.js";import{a as g}from"./chunk-QX2SQEXG.js";import{Jb as u,T as a,Wc as h,Z as i,gd as l,jd as m,kd as c,m as s,nd as f,od as p,pd as d}from"./chunk-KJXX4TUL.js";var U=(()=>{class t{constructor(){this.auth=i(l),this.router=i(n),this.cartService=i(g),this.user$=m(this.auth),this.user=h(this.user$,{initialValue:null}),this.displayName=u(()=>this.user()?.displayName||"Usu\xE1rio")}login(e,r){return s(f(this.auth,e,r))}logout(){p(this.auth).then(()=>{this.cartService.clearLocalCart(),this.router.navigate(["/login"])})}register(e,r,v){return s(c(this.auth,e,r).then(o=>o.user?d(o.user,{displayName:v}):Promise.resolve()))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{U as a};
