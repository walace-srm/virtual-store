import{a as L}from"./chunk-AD4X5GIU.js";import"./chunk-RGMJOE4E.js";import{b as x,c as b}from"./chunk-FMNTKMZU.js";import{a as S,f as y,i as _}from"./chunk-ME3JBNPK.js";import{G as v,H as w,R as k}from"./chunk-3CJHG7JA.js";import{a as q,b as z}from"./chunk-RGMONAUD.js";import"./chunk-GS3FRZ5K.js";import{a as D,d as A,e as G}from"./chunk-NEXCB32U.js";import{$d as j,Cb as p,Jd as C,Lb as o,Ld as M,Mb as t,Nb as c,Nd as E,Od as s,Qd as P,Rd as F,Tb as g,Ud as O,Vc as h,Wd as I,Xd as N,Zd as B,db as d,dc as n,e as u,ib as m,ob as f}from"./chunk-MPZ2ENXV.js";var at=(()=>{class l{constructor(a,e,r,i,R){this.fb=a,this.router=e,this.auth=r,this.firestore=i,this.snackBar=R,this.form=this.fb.group({nome:["",[s.required]],email:["",[s.required,s.email]],password:["",[s.required]]})}signup(){return u(this,null,function*(){if(this.form.invalid)return;let{nome:a,email:e,password:r}=this.form.value;try{let i=yield v(this.auth,e,r);i.user&&(yield k(i.user,{displayName:a}),yield _(y(this.firestore,"users",i.user.uid),{uid:i.user.uid,nome:a,email:e,isAdmin:!1})),this.snackBar.open("Usu\xE1rio cadastrado com sucesso!","Fechar",{duration:3e3,panelClass:"snack-success"}),this.router.navigate(["/products"])}catch(i){this.snackBar.open(`Erro: ${i.message}`,"Fechar",{duration:4e3,panelClass:"snack-error"})}})}static{this.\u0275fac=function(e){return new(e||l)(m(B),m(x),m(w),m(S),m(L))}}static{this.\u0275cmp=f({type:l,selectors:[["app-signup"]],decls:23,vars:2,consts:[[1,"auth-wrapper"],[1,"auth-container"],[1,"form-content",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","nome"],["matInput","","formControlName","email"],["matInput","","type","password","formControlName","password"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"login-link"],["routerLink","/login"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),n(3,"Crie sua conta"),t(),o(4,"form",2),g("ngSubmit",function(){return r.signup()}),o(5,"mat-form-field",3)(6,"mat-label"),n(7,"Nome"),t(),c(8,"input",4),t(),o(9,"mat-form-field",3)(10,"mat-label"),n(11,"Email"),t(),c(12,"input",5),t(),o(13,"mat-form-field",3)(14,"mat-label"),n(15,"Senha"),t(),c(16,"input",6),t(),o(17,"button",7),n(18," Cadastrar "),t()(),o(19,"p",8),n(20," J\xE1 tem uma conta? "),o(21,"a",9),n(22,"Fa\xE7a login"),t()()()()),e&2&&(d(4),p("formGroup",r.form),d(13),p("disabled",r.form.invalid))},dependencies:[h,b,j,O,E,P,F,I,N,G,A,D,z,q,M,C],styles:[".auth-container[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:32px;border-radius:12px;box-shadow:0 4px 20px #0000001a;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}h2[_ngcontent-%COMP%]{margin-bottom:24px;color:#3f51b5}.form-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.snack-success[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.snack-error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.login-link[_ngcontent-%COMP%]{margin-top:16px;font-size:14px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none;font-weight:500}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.auth-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:#f0f2f5;padding:32px 16px;box-sizing:border-box;overflow-y:auto}"]})}}return l})();export{at as SignupComponent};
