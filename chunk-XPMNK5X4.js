import{a as L}from"./chunk-32KPAHBW.js";import"./chunk-RGMJOE4E.js";import{a as D,g as A,k as G}from"./chunk-NITW6LWJ.js";import{L as N,M as B,W as j,h as x,i as b}from"./chunk-HVWF3CA4.js";import{a as q,b as z}from"./chunk-4ETLFIKS.js";import"./chunk-Q5OM6AKQ.js";import"./chunk-MOIDJ56Q.js";import{$ as S,P as C,R as M,T as v,U as s,W as w,X as k,ca as y,da as _,fa as E,ha as P,ia as F,la as O,ma as I}from"./chunk-GJKTN3KQ.js";import{Eb as p,Nb as o,Ob as t,Pb as c,Vb as g,Zc as h,e as u,fb as d,fc as n,kb as m,qb as f}from"./chunk-LUFARRJF.js";var at=(()=>{class l{constructor(a,e,r,i,R){this.fb=a,this.router=e,this.auth=r,this.firestore=i,this.snackBar=R,this.form=this.fb.group({nome:["",[s.required]],email:["",[s.required,s.email]],password:["",[s.required]]})}signup(){return u(this,null,function*(){if(this.form.invalid)return;let{nome:a,email:e,password:r}=this.form.value;try{let i=yield N(this.auth,e,r);i.user&&(yield j(i.user,{displayName:a}),yield G(A(this.firestore,"users",i.user.uid),{uid:i.user.uid,nome:a,email:e,isAdmin:!1})),this.snackBar.open("Usu\xE1rio cadastrado com sucesso!","Fechar",{duration:3e3,panelClass:"snack-success"}),this.router.navigate(["/products"])}catch(i){this.snackBar.open(`Erro: ${i.message}`,"Fechar",{duration:4e3,panelClass:"snack-error"})}})}static{this.\u0275fac=function(e){return new(e||l)(m(E),m(x),m(B),m(D),m(L))}}static{this.\u0275cmp=f({type:l,selectors:[["app-signup"]],decls:23,vars:2,consts:[[1,"auth-wrapper"],[1,"auth-container"],[1,"form-content",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","nome"],["matInput","","formControlName","email"],["matInput","","type","password","formControlName","password"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"login-link"],["routerLink","/login"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),n(3,"Crie sua conta"),t(),o(4,"form",2),g("ngSubmit",function(){return r.signup()}),o(5,"mat-form-field",3)(6,"mat-label"),n(7,"Nome"),t(),c(8,"input",4),t(),o(9,"mat-form-field",3)(10,"mat-label"),n(11,"Email"),t(),c(12,"input",5),t(),o(13,"mat-form-field",3)(14,"mat-label"),n(15,"Senha"),t(),c(16,"input",6),t(),o(17,"button",7),n(18," Cadastrar "),t()(),o(19,"p",8),n(20," J\xE1 tem uma conta? "),o(21,"a",9),n(22,"Fa\xE7a login"),t()()()()),e&2&&(d(4),p("formGroup",r.form),d(13),p("disabled",r.form.invalid))},dependencies:[h,b,P,S,v,w,k,y,_,I,O,F,z,q,M,C],styles:[".auth-container[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:32px;border-radius:12px;box-shadow:0 4px 20px #0000001a;background-color:#fff;display:flex;flex-direction:column;align-items:center;box-sizing:border-box}h2[_ngcontent-%COMP%]{margin-bottom:24px;color:#3f51b5}.form-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.snack-success[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.snack-error[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.login-link[_ngcontent-%COMP%]{margin-top:16px;font-size:14px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none;font-weight:500}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.auth-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:#f0f2f5;padding:32px 16px;box-sizing:border-box;overflow-y:auto}"]})}}return l})();export{at as SignupComponent};
